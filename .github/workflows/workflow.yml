name: Main workflow
on:
  push:

jobs:
  run:
    name: Run
    runs-on: ubuntu-latest

    services:
      splash:
        image: scrapinghub/splash:3.5
        ports:
          - 8050:8050

    steps:
    - name: Checkout
      uses: actions/checkout@v2

    - name: Test splash
      run: curl 'http://localhost:8050/render.html?url=https://google.com'

    - name: Hello world action step
      id: hello
      uses: ./
      with:
        who-to-greet: 'Mona the Octocat'

    # Use the output from the `hello` step
    - name: Get the output time
      run: echo "The time was ${{ steps.hello.outputs.time }}"
